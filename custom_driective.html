<html>

<head>
    <title>Custom Directives</title>
</head>

<body>
<h2>AngularJS Custom Directives</h2>

<div ng-app = "mainApp" ng-controller = "StudentController">
    <student name = "Ron"></student><br/>
    <student name = "Harry"></student>
</div>

<script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

<script>
    var mainApp = angular.module("mainApp", []);

    mainApp.directive('student', function() {
        var directive = {};
        directive.restrict = 'E';
        directive.template = "Student: <b>{{student.name}}</b> , Roll No: <b>{{student.rollno}}</b>, Age: <b>{{student.age}}</b>";

        directive.scope = {
            student : "=name"
        }

        directive.compile = function(element, attributes) {
            element.css("border", "1px solid #cccccc");

            var linkFunction = function($scope, element, attributes) {
                element.html("Student: <b>"+$scope.student.name +"</b> , Roll No: <b>"+$scope.student.rollno+"</b>, Age: <b>"+$scope.student.age+"</b><br/>");
                element.css("background-color", "green");
            }
            return linkFunction;
        }

        return directive;
    });

    mainApp.controller('StudentController', function($scope) {
        $scope.Ron = {};
        $scope.Ron.name = "Ronald Wessely";
        $scope.Ron.rollno  = 1;
        $scope.Ron.age  = 14;



        $scope.Harry = {};
        $scope.Harry.name = "Harry Potter";
        $scope.Harry.rollno  = 2;
        $scope.Harry.age  = 14;
    });

</script>

</body>
</html>
